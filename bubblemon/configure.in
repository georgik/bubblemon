dnl -*-m4-*- Process this file with autoconf to produce a configure script.

AC_INIT(src/bubblemon.h)
AM_INIT_AUTOMAKE(bubblemon, 0.9)
AM_CONFIG_HEADER(config.h)

dnl Pick up the Gnome macros.
AM_ACLOCAL_INCLUDE(macros)

GNOME_INIT(applets)
AC_ISC_POSIX
AC_PROG_CC
AM_PROG_CC_STDC
AC_HEADER_STDC

GNOME_INIT_LIBGTOP(1.0.0, fail)
GNOME_COMPILE_WARNINGS
GNOME_X_CHECKS

# Find GNOME's sysconf dir
AC_MSG_CHECKING(for GNOME's sysconf dir)
GNOME_SYSCONFDIR=`$GNOME_CONFIG --sysconfdir`
AC_SUBST(GNOME_SYSCONFDIR)
AC_MSG_RESULT($GNOME_SYSCONFDIR)

# Find GNOME's data dir
AC_MSG_CHECKING(for GNOME's data dir)
GNOME_DATADIR=`$GNOME_CONFIG --datadir`
AC_SUBST(GNOME_DATADIR)
AC_MSG_RESULT($GNOME_DATADIR)

dnl Subst PACKAGE_PIXMAPS_DIR.
PACKAGE_PIXMAPS_DIR="`gnome-config --datadir`/pixmaps/${PACKAGE}"
AC_SUBST(PACKAGE_PIXMAPS_DIR)

AC_OUTPUT([
Makefile
macros/Makefile
src/Makefile
gnome/Makefile
packaging/Makefile
packaging/bubblemon.spec
])
